<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§€êµ¬ ì‹œìŠ¤í…œ ì—´ìˆ˜ì§€ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(to bottom, #000000, #001a33);
            color: white;
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 80px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .visualization {
            background: rgba(0, 20, 40, 0.5);
            border-radius: 15px;
            padding: 30px;
            position: relative;
            min-height: 600px;
        }

        .control-panel {
            background: rgba(20, 40, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
        }

        .control-group {
            margin-bottom: 30px;
        }

        .control-group label {
            display: block;
            margin-bottom: 10px;
            font-size: 16px;
            font-weight: bold;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            margin: 10px 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
            border: none;
        }

        .slider-value {
            text-align: center;
            font-size: 18px;
            color: #FFD700;
            margin-top: 5px;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: -5px;
        }

        .energy-display {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .energy-display h3 {
            margin-bottom: 15px;
            color: #4CAF50;
        }

        .energy-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .energy-item.balanced {
            border-left: 3px solid #4CAF50;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }

        .preset-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .preset-btn {
            padding: 12px;
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid #4CAF50;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .preset-btn:hover {
            background: rgba(76, 175, 80, 0.5);
            transform: translateY(-2px);
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #3d4e9f;
            color: white;
            text-align: center;
            padding: 10px 20px;
            font-size: 14px;
            z-index: 999;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
        }

        .footer a {
            color: white;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, #3d4e9f 0%, #667eea 100%);
            color: white;
            padding: 20px;
            margin: -30px -30px 20px -30px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            color: white;
            margin: 0;
            font-size: 24px;
        }

        .modal-close {
            background: none;
            color: white;
            border: none;
            font-size: 30px;
            cursor: pointer;
            padding: 0;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 10px;
            color: #333;
            line-height: 1.8;
        }

        .help-section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3d4e9f;
        }

        .help-section h3 {
            color: #3d4e9f;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .help-section p, .help-section ul {
            margin: 10px 0;
        }

        .help-section ul {
            padding-left: 25px;
        }

        .help-section li {
            margin: 8px 0;
        }

        .help-section strong {
            color: #3d4e9f;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ ì§€êµ¬ ì‹œìŠ¤í…œ ì—´ìˆ˜ì§€ ì‹œë®¬ë ˆì´ì…˜</h1>
        
        <div class="main-content">
            <div class="visualization">
                <canvas id="energyCanvas"></canvas>
            </div>

            <div class="control-panel">
                <div class="control-group">
                    <label>â˜€ï¸ íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€ ê°•ë„</label>
                    <input type="range" id="solarInput" min="50" max="250" value="100" step="1">
                    <div class="slider-value" id="solarValue">100</div>
                    <div class="slider-labels">
                        <span>50</span>
                        <span>250</span>
                    </div>
                </div>

                <div class="control-group">
                    <label>ğŸŒ ì§€êµ¬ ë°˜ì‚¬ë„ (ì•Œë² ë„)</label>
                    <input type="range" id="albedoInput" min="0" max="100" value="30" step="1">
                    <div class="slider-value" id="albedoValue">30%</div>
                    <div class="slider-labels">
                        <span>0%</span>
                        <span>100%</span>
                    </div>
                </div>

                <div class="control-group">
                    <label>ğŸŒ«ï¸ ëŒ€ê¸° ë‘ê»˜</label>
                    <input type="range" id="atmosphereInput" min="0" max="100" value="0" step="1">
                    <div class="slider-value" id="atmosphereValue">0% (ëŒ€ê¸° ì—†ìŒ)</div>
                    <div class="slider-labels">
                        <span>ì—†ìŒ</span>
                        <span>ìµœëŒ€</span>
                    </div>
                </div>

                <div class="preset-buttons">
                    <button class="preset-btn" onclick="setPreset('none')">ëŒ€ê¸° ì—†ìŒ</button>
                    <button class="preset-btn" onclick="setPreset('earth')">í˜„ì¬ ì§€êµ¬</button>
                    <button class="preset-btn" onclick="setPreset('mars')">í™”ì„±í˜•</button>
                    <button class="preset-btn" onclick="setPreset('venus')">ê¸ˆì„±í˜•</button>
                </div>

                <div style="text-align: center; margin-top: 15px;">
                    <button class="preset-btn" onclick="showHelp()" style="background: rgba(255, 215, 0, 0.3); border: 1px solid #FFD700;">ğŸ“– ì‚¬ìš©ë²•</button>
                </div>

                <div class="energy-display">
                    <h3>ğŸ“Š ì—ë„ˆì§€ ìˆ˜ì¹˜</h3>
                    <div class="energy-item balanced">
                        <span>íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€ ì…ì‚¬</span>
                        <span id="solarIn">100</span>
                    </div>
                    <div class="energy-item balanced">
                        <span>ë°˜ì‚¬ (ì•Œë² ë„)</span>
                        <span id="reflected">30</span>
                    </div>
                    <div class="energy-item balanced">
                        <span>ì§€í‘œ í¡ìˆ˜ (íƒœì–‘ ë³µì‚¬)</span>
                        <span id="surfaceAbsorb">70</span>
                    </div>
                    <div class="energy-item balanced">
                        <span>ëŒ€ê¸° í¡ìˆ˜ (ì§€êµ¬ ë³µì‚¬)</span>
                        <span id="atmAbsorbed">0</span>
                    </div>
                    <div class="energy-item balanced">
                        <span>ëŒ€ê¸° â†’ ì§€í‘œ (ì¬ë°©ì¶œ)</span>
                        <span id="atmToSurface">0</span>
                    </div>
                    <div class="energy-item balanced">
                        <span>ëŒ€ê¸° â†’ ìš°ì£¼ (ì¬ë°©ì¶œ)</span>
                        <span id="atmToSpace">0</span>
                    </div>
                                        <div class="energy-item balanced">
                            <span>ì§€êµ¬ ë³µì‚¬ ì—ë„ˆì§€</span>
                            <span id="surfaceTotal" style="color: #FFD700; font-weight: bold;">70</span>
                        </div>
                    <div class="energy-item balanced">
                        <span>ìš°ì£¼ë¡œ ë°©ì¶œ (ì´)</span>
                        <span id="toSpace">70</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        â“’ 2025 ì¶©ë‚¨ì‚¼ì„±ê³ ë“±í•™êµ ì‹ ë„ê²½T<br>
        <a href="mailto:pantarei01@cnsa.hs.kr">pantarei01@cnsa.hs.kr</a>
    </div>

    <!-- ì‚¬ìš©ë²• ëª¨ë‹¬ -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“– ì§€êµ¬ ì‹œìŠ¤í…œ ì—´ìˆ˜ì§€ ì‹œë®¬ë ˆì´ì…˜ ì‚¬ìš©ë²•</h2>
                <button class="modal-close" onclick="closeHelp()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>ğŸŒ í”„ë¡œê·¸ë¨ ì†Œê°œ</h3>
                    <p><strong>ì§€êµ¬ ì‹œìŠ¤í…œ ì—´ìˆ˜ì§€ ì‹œë®¬ë ˆì´ì…˜</strong>ì€ íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€ê°€ ì§€êµ¬ì— ë“¤ì–´ì˜¤ê³  ë‚˜ê°€ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ê´€ì°°í•  ìˆ˜ ìˆëŠ” êµìœ¡ìš© í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ì˜¨ì‹¤íš¨ê³¼ê°€ ìˆì„ ë•Œì™€ ì—†ì„ ë•Œë¥¼ ë¹„êµí•˜ê³ , ê° ë³€ìˆ˜ë“¤ì´ ì§€êµ¬ì˜ ì—ë„ˆì§€ í‰í˜•ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>

                <div class="help-section">
                    <h3>ğŸ® ê¸°ë³¸ ì‚¬ìš©ë²•</h3>
                    
                    <p><strong>1. íƒœì–‘ ë³µì‚¬ ê°•ë„ ì¡°ì ˆ</strong></p>
                    <ul>
                        <li><strong>â˜€ï¸ íƒœì–‘ ë³µì‚¬ ê°•ë„ ìŠ¬ë¼ì´ë”</strong>: íƒœì–‘ìœ¼ë¡œë¶€í„° ì§€êµ¬ì— ë„ë‹¬í•˜ëŠ” íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€ì˜ ì–‘ì„ ì¡°ì ˆí•©ë‹ˆë‹¤</li>
                        <li>ë²”ìœ„: 50~250 (ìƒëŒ€ê°’, 100ì´ ê¸°ì¤€)</li>
                        <li>ê°’ì´ í´ìˆ˜ë¡ ë” ë§ì€ íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€ê°€ ì§€êµ¬ì— ë„ë‹¬í•©ë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>2. ì§€êµ¬ ë°˜ì‚¬ë„ (ì•Œë² ë„) ì¡°ì ˆ</strong></p>
                    <ul>
                        <li><strong>ğŸŒ ì§€êµ¬ ë°˜ì‚¬ë„ ìŠ¬ë¼ì´ë”</strong>: ì§€êµ¬ë¡œ ë“¤ì–´ì˜¨ íƒœì–‘ ë³µì‚¬ ì¤‘ ë°˜ì‚¬ë˜ì–´ ë‚˜ê°€ëŠ” ë¹„ìœ¨ì„ ì„¤ì •í•©ë‹ˆë‹¤</li>
                        <li>ë²”ìœ„: 0~100%</li>
                        <li>ë°˜ì‚¬ë„ê°€ ë†’ì„ìˆ˜ë¡ ë” ë§ì€ íƒœì–‘ ë³µì‚¬ê°€ ìš°ì£¼ë¡œ ëŒì•„ê°€ê³ , ì§€í‘œê°€ í¡ìˆ˜í•˜ëŠ” ì—ë„ˆì§€ëŠ” ì¤„ì–´ë“­ë‹ˆë‹¤</li>
                        <li>ì˜ˆ: ëˆˆê³¼ ì–¼ìŒì´ ë§ìœ¼ë©´ ë°˜ì‚¬ë„ê°€ ë†’ì•„ì§‘ë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>3. ëŒ€ê¸° ë‘ê»˜ ì¡°ì ˆ</strong></p>
                    <ul>
                        <li><strong>ğŸŒ«ï¸ ëŒ€ê¸° ë‘ê»˜ ìŠ¬ë¼ì´ë”</strong>: ì˜¨ì‹¤ê¸°ì²´ì˜ ì–‘ì„ ì¡°ì ˆí•©ë‹ˆë‹¤</li>
                        <li>ë²”ìœ„: 0~100%</li>
                        <li>0%: ëŒ€ê¸°ê°€ ì—†ëŠ” ìƒíƒœ (ì˜¨ì‹¤íš¨ê³¼ ì—†ìŒ)</li>
                        <li>ê°’ì´ í´ìˆ˜ë¡ ëŒ€ê¸°ê°€ ì§€êµ¬ ë³µì‚¬ë¥¼ ë” ë§ì´ í¡ìˆ˜í•˜ê³  ì¬ë°©ì¶œí•©ë‹ˆë‹¤</li>
                        <li>ëŒ€ê¸°ê°€ ë‘êº¼ìš¸ìˆ˜ë¡ ì˜¨ì‹¤íš¨ê³¼ê°€ ê°•í•´ì ¸ ì§€í‘œ ì—ë„ˆì§€ê°€ ì¦ê°€í•©ë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>4. í”„ë¦¬ì…‹ ë²„íŠ¼</strong></p>
                    <ul>
                        <li><strong>ëŒ€ê¸° ì—†ìŒ</strong>: ì˜¨ì‹¤íš¨ê³¼ê°€ ì „í˜€ ì—†ëŠ” ìƒíƒœ</li>
                        <li><strong>í˜„ì¬ ì§€êµ¬</strong>: ì§€êµ¬ì˜ í˜„ì¬ ì¡°ê±´ (ì˜¨ì‹¤íš¨ê³¼ í¬í•¨)</li>
                        <li><strong>í™”ì„±í˜•</strong>: íƒœì–‘ ë³µì‚¬ê°€ ì•½í•˜ê³  ëŒ€ê¸°ê°€ ì–‡ì€ ì¡°ê±´</li>
                        <li><strong>ê¸ˆì„±í˜•</strong>: íƒœì–‘ ë³µì‚¬ê°€ ê°•í•˜ê³  ëŒ€ê¸°ê°€ ë§¤ìš° ë‘êº¼ìš´ ê·¹í•œ ì˜¨ì‹¤íš¨ê³¼ ì¡°ê±´</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ“Š ì‹œê°í™” ì´í•´í•˜ê¸°</h3>
                    
                    <p><strong>í™”ì‚´í‘œì˜ ì˜ë¯¸:</strong></p>
                    <ul>
                        <li><strong>ë…¸ë€ìƒ‰ í™”ì‚´í‘œ</strong>: íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€</li>
                        <li><strong>ì£¼í™©ë¹› í™”ì‚´í‘œ (#FF6666)</strong>: ì§€í‘œì˜ ì§€êµ¬ ë³µì‚¬ (ì ì™¸ì„ )</li>
                        <li><strong>ë¹¨ê°„ìƒ‰ í™”ì‚´í‘œ (#FF4444)</strong>: ëŒ€ê¸°ì˜ ë³µì‚¬ ì¬ë°©ì¶œ (ì ì™¸ì„ )</li>
                        <li><strong>í™”ì‚´í‘œ ë‘ê»˜</strong>: ì—ë„ˆì§€ì˜ ì–‘ì— ë¹„ë¡€ (ë‘êº¼ìš¸ìˆ˜ë¡ ë§ì€ ì—ë„ˆì§€)</li>
                        <li><strong>í™”ì‚´í‘œ ìœ„ì˜ ìˆ«ì</strong>: í•´ë‹¹ ì—ë„ˆì§€ íë¦„ì˜ í¬ê¸° (ìƒëŒ€ê°’)</li>
                    </ul>

                    <p><strong>ì—ë„ˆì§€ íë¦„:</strong></p>
                    <ul>
                        <li><strong>ì™¼ìª½</strong>: ì§€í‘œ ì§€êµ¬ ë³µì‚¬ â†’ ëŒ€ê¸° â†’ ìš°ì£¼ (ì£¼í™©ìƒ‰)</li>
                        <li><strong>ì¤‘ì•™</strong>: íƒœì–‘ ë³µì‚¬ â†’ ì§€êµ¬ (ë…¸ë€ìƒ‰)</li>
                        <li><strong>ì˜¤ë¥¸ìª½</strong>: ëŒ€ê¸° ì§€êµ¬ ë³µì‚¬ ì¬ë°©ì¶œ â†’ ì§€í‘œ/ìš°ì£¼ (ë¹¨ê°„ìƒ‰)</li>
                    </ul>

                    <p><strong>ê° ì˜ì—­ì˜ ì—ë„ˆì§€ í‘œì‹œ:</strong></p>
                    <ul>
                        <li><strong>ìš°ì£¼ë¡œ ë°©ì¶œ</strong>: ì§€êµ¬ ì‹œìŠ¤í…œì—ì„œ ìµœì¢…ì ìœ¼ë¡œ ìš°ì£¼ë¡œ ë‚˜ê°€ëŠ” ì´ ì—ë„ˆì§€</li>
                        <li><strong>ëŒ€ê¸° í¡ìˆ˜</strong>: ëŒ€ê¸°ê°€ ì§€í‘œì˜ ì§€êµ¬ ë³µì‚¬ë¡œë¶€í„° í¡ìˆ˜í•œ ì—ë„ˆì§€</li>
                        <li><strong>â†‘ ìš°ì£¼ / â†“ ì§€í‘œ</strong>: ëŒ€ê¸°ê°€ ìœ„(ìš°ì£¼)ì™€ ì•„ë˜(ì§€í‘œ)ë¡œ ë°©ì¶œí•˜ëŠ” ì—ë„ˆì§€</li>
                        <li><strong>ì§€êµ¬ ë³µì‚¬ ì—ë„ˆì§€ì§€</strong>: ì§€í‘œê°€ ë°›ëŠ” ì´ ì—ë„ˆì§€ (íƒœì–‘ ë³µì‚¬ ì§ì ‘ í¡ìˆ˜ + ëŒ€ê¸° ì¬ë°©ì¶œ)</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ”¬ ì—ë„ˆì§€ ìˆ˜ì¹˜ íŒ¨ë„</h3>
                    <p>ì˜¤ë¥¸ìª½ íŒ¨ë„ì—ì„œ ê° ì—ë„ˆì§€ íë¦„ì˜ ì •í™•í•œ ìˆ˜ì¹˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
                    <ul>
                        <li><strong>íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€ ì…ì‚¬</strong>: ì§€êµ¬ì— ë„ë‹¬í•˜ëŠ” ì´ íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€</li>
                        <li><strong>ë°˜ì‚¬ (ì•Œë² ë„)</strong>: ìš°ì£¼ë¡œ ë°˜ì‚¬ë˜ì–´ ë‚˜ê°€ëŠ” íƒœì–‘ ë³µì‚¬ ì—ë„ˆì§€</li>
                        <li><strong>ì§€í‘œ í¡ìˆ˜ (íƒœì–‘ ë³µì‚¬)</strong>: ì§€í‘œê°€ íƒœì–‘ ë³µì‚¬ë¡œë¶€í„° ì§ì ‘ í¡ìˆ˜í•˜ëŠ” ì—ë„ˆì§€</li>
                        <li><strong>ëŒ€ê¸° í¡ìˆ˜ (ì§€êµ¬ ë³µì‚¬)</strong>: ëŒ€ê¸°ê°€ ì§€í‘œì˜ ì§€êµ¬ ë³µì‚¬ë¡œë¶€í„° í¡ìˆ˜í•˜ëŠ” ì—ë„ˆì§€</li>
                        <li><strong>ëŒ€ê¸° â†’ ì§€í‘œ (ì¬ë°©ì¶œ)</strong>: ëŒ€ê¸°ê°€ ì§€í‘œë¡œ ì¬ë°©ì¶œí•˜ëŠ” ì—ë„ˆì§€ (ì˜¨ì‹¤íš¨ê³¼)</li>
                        <li><strong>ëŒ€ê¸° â†’ ìš°ì£¼ (ì¬ë°©ì¶œ)</strong>: ëŒ€ê¸°ê°€ ìš°ì£¼ë¡œ ë°©ì¶œí•˜ëŠ” ì—ë„ˆì§€</li>
                        <li><strong>ì§€êµ¬ ë³µì‚¬ ì—ë„ˆì§€</strong>: ì§€í‘œê°€ ë°›ëŠ” ì´ ì—ë„ˆì§€ (ë‹¨ìœ„: W/mÂ², ì§€í‘œ ì˜¨ë„ì™€ ê´€ë ¨)</li>
                        <li><strong>ìš°ì£¼ë¡œ ë°©ì¶œ (ì´)</strong>: ì§€êµ¬ ì‹œìŠ¤í…œì—ì„œ ìµœì¢…ì ìœ¼ë¡œ ìš°ì£¼ë¡œ ë‚˜ê°€ëŠ” ì´ ì—ë„ˆì§€</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ’¡ í•™ìŠµ íŒ</h3>
                    <ul>
                        <li><strong>ì˜¨ì‹¤íš¨ê³¼ ê´€ì°°</strong>: ëŒ€ê¸° ë‘ê»˜ë¥¼ 0%ì—ì„œ 100%ë¡œ ë³€í™”ì‹œí‚¤ë©° ì§€í‘œ ì´ ì—ë„ˆì§€ê°€ ì–´ë–»ê²Œ ì¦ê°€í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”</li>
                        <li><strong>ì—ë„ˆì§€ í‰í˜• ì´í•´</strong>: "íƒœì–‘ ë³µì‚¬ ì…ì‚¬ - ë°˜ì‚¬ = ìš°ì£¼ë¡œ ë°©ì¶œ"ì´ í•­ìƒ ì„±ë¦½í•¨ì„ í™•ì¸í•˜ì„¸ìš”</li>
                        <li><strong>ë°˜ì‚¬ë„ íš¨ê³¼</strong>: ë°˜ì‚¬ë„ë¥¼ ë†’ì´ë©´ ì§€í‘œ ì—ë„ˆì§€ê°€ ê°ì†Œí•˜ëŠ” ê²ƒì„ ê´€ì°°í•˜ì„¸ìš” (ë¹™í•˜-ì•Œë² ë„ ë˜ë¨¹ì„)</li>
                        <li><strong>í–‰ì„± ë¹„êµ</strong>: ì§€êµ¬í˜•, í™”ì„±í˜•, ê¸ˆì„±í˜•ì„ ë¹„êµí•˜ë©° ê° í–‰ì„±ì˜ ì¡°ê±´ ì°¨ì´ë¥¼ ì´í•´í•˜ì„¸ìš”</li>
                        <li><strong>ê·¹ë‹¨ ì‹¤í—˜</strong>: ê·¹ë‹¨ì ì¸ ê°’ë“¤ì„ ì„¤ì •í•´ë³´ë©° ê° ë³€ìˆ˜ì˜ ì—­í• ì„ ëª…í™•íˆ íŒŒì•…í•˜ì„¸ìš”</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸŒ¡ï¸ ê³¼í•™ì  ë°°ê²½</h3>
                    
                    <p><strong>ì˜¨ì‹¤íš¨ê³¼ë€?</strong></p>
                    <p>ëŒ€ê¸°ê°€ ì§€í‘œì—ì„œ ë°©ì¶œëœ ì§€êµ¬ ë³µì‚¬(ì ì™¸ì„ )ë¥¼ í¡ìˆ˜í•˜ê³  ë‹¤ì‹œ ì§€í‘œë¡œ ì¬ë°©ì¶œí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì§€í‘œì˜ ì˜¨ë„ê°€ ëŒ€ê¸°ê°€ ì—†ì„ ë•Œë³´ë‹¤ ë†’ì•„ì§‘ë‹ˆë‹¤.</p>
                    
                    <p><strong>ì—ë„ˆì§€ í‰í˜•:</strong></p>
                    <p>í‰í˜• ìƒíƒœì—ì„œëŠ” ì§€êµ¬ê°€ ë°›ëŠ” ì—ë„ˆì§€(íƒœì–‘ ë³µì‚¬ ì…ì‚¬ - ë°˜ì‚¬)ì™€ ë‚´ë³´ë‚´ëŠ” ì—ë„ˆì§€(ìš°ì£¼ë¡œ ë°©ì¶œ)ê°€ ê°™ìŠµë‹ˆë‹¤. ë§Œì•½ ê· í˜•ì´ ê¹¨ì§€ë©´ ì§€êµ¬ì˜ ì˜¨ë„ê°€ ë³€í•©ë‹ˆë‹¤.</p>
                    
                    <p><strong>íƒœì–‘ ë³µì‚¬ì™€ ì§€êµ¬ ë³µì‚¬:</strong></p>
                    <ul>
                        <li><strong>íƒœì–‘ ë³µì‚¬</strong>: ì£¼ë¡œ ê°€ì‹œê´‘ì„ ê³¼ ìì™¸ì„  ì˜ì—­ì˜ ë‹¨íŒŒ ë³µì‚¬ (ê³ ì˜¨ì˜ íƒœì–‘ì—ì„œ ë°©ì¶œ)</li>
                        <li><strong>ì§€êµ¬ ë³µì‚¬</strong>: ì ì™¸ì„  ì˜ì—­ì˜ ì¥íŒŒ ë³µì‚¬ (ìƒëŒ€ì ìœ¼ë¡œ ì €ì˜¨ì¸ ì§€í‘œì™€ ëŒ€ê¸°ì—ì„œ ë°©ì¶œ)</li>
                        <li>ëŒ€ê¸°ëŠ” íƒœì–‘ ë³µì‚¬ëŠ” ëŒ€ë¶€ë¶„ í†µê³¼ì‹œí‚¤ì§€ë§Œ, ì§€êµ¬ ë³µì‚¬ëŠ” ë§ì´ í¡ìˆ˜í•©ë‹ˆë‹¤ (ì˜¨ì‹¤íš¨ê³¼)</li>
                    </ul>
                    
                    <p><strong>ì‹¤ì œ ì§€êµ¬:</strong></p>
                    <ul>
                        <li>íƒœì–‘ ìƒìˆ˜: ì•½ 1361 W/mÂ² (ì „ì§€êµ¬ í‰ê·  ì•½ 340 W/mÂ²)</li>
                        <li>ì•Œë² ë„: ì•½ 30%</li>
                        <li>ì˜¨ì‹¤íš¨ê³¼ë¡œ ì¸í•œ ì§€í‘œ ì˜¨ë„ ìƒìŠ¹: ì•½ 33Â°C</li>
                        <li>ëŒ€ê¸°ê°€ ì—†ë‹¤ë©´ ì§€êµ¬ í‰ê·  ì˜¨ë„ëŠ” -18Â°C, ëŒ€ê¸° ë•ë¶„ì— 15Â°C ìœ ì§€</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>â“ FAQ</h3>
                    
                    <p><strong>Q: ëŒ€ê¸°ê°€ ë‘êº¼ì›Œì§€ë©´ ì™œ ì§€í‘œ ì—ë„ˆì§€ê°€ ì¦ê°€í•˜ë‚˜ìš”?</strong></p>
                    <p>A: ëŒ€ê¸°ê°€ ì§€í‘œì˜ ì§€êµ¬ ë³µì‚¬ë¥¼ í¡ìˆ˜í•œ í›„ ì ˆë°˜ì„ ë‹¤ì‹œ ì§€í‘œë¡œ ë˜ëŒë ¤ ë³´ë‚´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ê²ƒì´ ì˜¨ì‹¤íš¨ê³¼ì˜ í•µì‹¬ì…ë‹ˆë‹¤.</p>
                    
                    <p><strong>Q: ê¸ˆì„±í˜•ì—ì„œ ì™œ ì§€í‘œ ì—ë„ˆì§€ê°€ ì§€êµ¬ë³´ë‹¤ ë†’ë‚˜ìš”?</strong></p>
                    <p>A: ê¸ˆì„±ì€ ë§¤ìš° ë‘êº¼ìš´ ëŒ€ê¸°ë¡œ ì¸í•œ(ì§€êµ¬ì˜ ì•½ 90ë°°) ê·¹ì‹¬í•œ ì˜¨ì‹¤íš¨ê³¼ ë•Œë¬¸ì— ì§€í‘œ ì˜¨ë„ê°€ 460Â°Cì— ë‹¬í•©ë‹ˆë‹¤.</p>
                    
                    <p><strong>Q: ì—ë„ˆì§€ ìˆ˜ì¹˜ì˜ ë‹¨ìœ„ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</strong></p>
                    <p>A: ìƒëŒ€ê°’ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤. 100ì„ ê¸°ì¤€ìœ¼ë¡œ ë¹„ìœ¨ì„ ë‚˜íƒ€ë‚´ë©°, ì‹¤ì œë¡œëŠ” W/mÂ² ë‹¨ìœ„ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                    
                    <p><strong>Q: íƒœì–‘ ë³µì‚¬ì™€ ì§€êµ¬ ë³µì‚¬ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</strong></p>
                    <p>A: íƒœì–‘ ë³µì‚¬ëŠ” ê³ ì˜¨ì˜ íƒœì–‘ì—ì„œ ë‚˜ì˜¤ëŠ” ë‹¨íŒŒ ë³µì‚¬ì´ê³ , ì§€êµ¬ ë³µì‚¬ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì €ì˜¨ì¸ ì§€í‘œì™€ ëŒ€ê¸°ì—ì„œ ë‚˜ì˜¤ëŠ” ì¥íŒŒ ë³µì‚¬ì…ë‹ˆë‹¤. ëŒ€ê¸°ëŠ” íƒœì–‘ ë³µì‚¬ëŠ” ì˜ í†µê³¼ì‹œí‚¤ì§€ë§Œ ì§€êµ¬ ë³µì‚¬ëŠ” ë§ì´ í¡ìˆ˜í•©ë‹ˆë‹¤.</p>
                    
                    <p><strong>Q: ì™œ ì£¼í™©ìƒ‰ê³¼ ë¹¨ê°„ìƒ‰ì„ êµ¬ë¶„í–ˆë‚˜ìš”?</strong></p>
                    <p>A: ì§€í‘œì—ì„œ ì§ì ‘ ë‚˜ì˜¤ëŠ” ì§€êµ¬ ë³µì‚¬(ì£¼í™©ìƒ‰)ì™€ ëŒ€ê¸°ì—ì„œ ì¬ë°©ì¶œë˜ëŠ” ì§€êµ¬ ë³µì‚¬(ë¹¨ê°„ìƒ‰)ë¥¼ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.</p>
                </div>

                <div class="help-section">
                    <h3>Â©ï¸ ì €ì‘ê¶Œ ì •ë³´</h3>
                    <p>
                        <strong>ì§€êµ¬ ì‹œìŠ¤í…œ ì—´ìˆ˜ì§€ ì‹œë®¬ë ˆì´ì…˜</strong><br><br>
                        â“’ 2025 ì¶©ë‚¨ì‚¼ì„±ê³ ë“±í•™êµ ì‹ ë„ê²½ êµì‚¬<br>
                        ì´ë©”ì¼: <a href="mailto:pantarei01@cnsa.hs.kr">pantarei01@cnsa.hs.kr</a><br><br>
                        
                        ë³¸ í”„ë¡œê·¸ë¨ì€ êµìœ¡ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìœ¼ë©°, ììœ ë¡­ê²Œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                        ìƒì—…ì  ì´ìš© ì‹œì—ëŠ” ì œì‘ìì—ê²Œ ë¬¸ì˜í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>

    <script>
        // ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸
        let canvas, ctx;
        let solarInput, albedoInput, atmosphereInput;
        let solarValue, albedoValue, atmosphereValue;

        // DOM ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            // ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
            canvas = document.getElementById('energyCanvas');
            ctx = canvas.getContext('2d');
            
            solarInput = document.getElementById('solarInput');
            albedoInput = document.getElementById('albedoInput');
            atmosphereInput = document.getElementById('atmosphereInput');
            
            solarValue = document.getElementById('solarValue');
            albedoValue = document.getElementById('albedoValue');
            atmosphereValue = document.getElementById('atmosphereValue');

            // Canvas í¬ê¸° ì´ˆê¸° ì„¤ì •
            resizeCanvas();

            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
            window.addEventListener('resize', resizeCanvas);
            solarInput.addEventListener('input', updateAndDraw);
            albedoInput.addEventListener('input', updateAndDraw);
            atmosphereInput.addEventListener('input', updateAndDraw);

            // ì´ˆê¸° ê·¸ë¦¬ê¸°
            updateAndDraw();
        });

        function resizeCanvas() {
            if (!canvas) return;
            const container = canvas.parentElement;
            canvas.width = container.clientWidth - 60;
            canvas.height = container.clientHeight - 60;
            if (solarInput) {
                draw();
            }
        }

        function updateAndDraw() {
            // ìŠ¬ë¼ì´ë” ê°’ í‘œì‹œ ì—…ë°ì´íŠ¸
            solarValue.textContent = solarInput.value;
            albedoValue.textContent = albedoInput.value + '%';
            
            const atmValue = atmosphereInput.value;
            if (atmValue == 0) {
                atmosphereValue.textContent = '0% (ëŒ€ê¸° ì—†ìŒ)';
            } else {
                atmosphereValue.textContent = atmValue + '%';
            }

            draw();
        }

        function calculateEnergy() {
            const solar = parseFloat(solarInput.value);
            const albedo = parseFloat(albedoInput.value) / 100;
            const atmosphere = parseFloat(atmosphereInput.value) / 100;

            const reflected = solar * albedo;
            const surfaceAbsorb = solar * (1 - albedo);
            
            // ëŒ€ê¸° ë³µì‚¬ ê³„ì‚° (ë“±ë¹„ê¸‰ìˆ˜ ìˆ˜ë ´ê°’)
            let atmToSurface = 0;
            let atmAbsorbed = 0;
            let atmToSpace = 0;
            
            if (atmosphere > 0) {
                atmToSurface = surfaceAbsorb * atmosphere / (2 - atmosphere);
            }
            
            const surfaceTotal = surfaceAbsorb + atmToSurface;
            
            // ëŒ€ê¸°ê°€ í¡ìˆ˜í•˜ëŠ” ì´ ì—ë„ˆì§€ì™€ ìš°ì£¼ë¡œ ë°©ì¶œí•˜ëŠ” ì—ë„ˆì§€
            if (atmosphere > 0) {
                atmAbsorbed = surfaceTotal * atmosphere;
                atmToSpace = atmAbsorbed / 2; // ëŒ€ê¸°ê°€ ìœ„ë¡œ ë°©ì¶œ
            }
            
            const toSpace = surfaceAbsorb; // í‰í˜• ìƒíƒœì—ì„œ ìš°ì£¼ë¡œ ë‚˜ê°€ëŠ” ì´ëŸ‰

            // UI ì—…ë°ì´íŠ¸
            document.getElementById('solarIn').textContent = solar.toFixed(1);
            document.getElementById('reflected').textContent = reflected.toFixed(1);
            document.getElementById('surfaceAbsorb').textContent = surfaceAbsorb.toFixed(1);
            document.getElementById('atmAbsorbed').textContent = atmAbsorbed.toFixed(1);
            document.getElementById('atmToSurface').textContent = atmToSurface.toFixed(1);
            document.getElementById('atmToSpace').textContent = atmToSpace.toFixed(1);
            document.getElementById('surfaceTotal').textContent = surfaceTotal.toFixed(1);
            document.getElementById('toSpace').textContent = toSpace.toFixed(1);

            return {
                solar,
                reflected,
                surfaceAbsorb,
                atmosphere,
                atmToSurface,
                atmAbsorbed,
                atmToSpace,
                surfaceTotal,
                toSpace
            };
        }

        function drawArrow(fromX, fromY, toX, toY, width, color, label) {
            const headlen = width * 2.0; // í™”ì‚´í‘œ ë¨¸ë¦¬ ê¸¸ì´ = ë‘ê»˜ì˜ 2ë°°
            const headWidth = width * 1.2; // í™”ì‚´í‘œ ë¨¸ë¦¬ ë„ˆë¹„ = ë‘ê»˜ì˜ 1.2ë°°
            const angle = Math.atan2(toY - fromY, toX - fromX);

            // í™”ì‚´í‘œ ë¨¸ë¦¬ ì‹œì‘ì  ê³„ì‚° (ì‚¼ê°í˜•ì˜ ë°‘ë³€)
            const headBaseX = toX - headlen * Math.cos(angle);
            const headBaseY = toY - headlen * Math.sin(angle);

            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = width;
            ctx.lineCap = 'round';

            // í™”ì‚´í‘œ ëª¸í†µ (ë¨¸ë¦¬ ì‹œì‘ì ê¹Œì§€ë§Œ)
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(headBaseX, headBaseY);
            ctx.stroke();

            // í™”ì‚´í‘œ ë¨¸ë¦¬ (ì‚¼ê°í˜•)
            ctx.beginPath();
            ctx.moveTo(toX, toY);
            ctx.lineTo(
                headBaseX - headWidth * Math.sin(angle),
                headBaseY + headWidth * Math.cos(angle)
            );
            ctx.lineTo(
                headBaseX + headWidth * Math.sin(angle),
                headBaseY - headWidth * Math.cos(angle)
            );
            ctx.closePath();
            ctx.fill();

            // ë ˆì´ë¸”
            if (label) {
                ctx.font = 'bold 14px Malgun Gothic';
                ctx.fillStyle = 'white';
                ctx.textAlign = 'center';
                const midX = (fromX + toX) / 2;
                const midY = (fromY + toY) / 2;
                ctx.fillText(label, midX + 30, midY);
            }
        }

        function draw() {
            if (!canvas || !ctx) return;
            
            const w = canvas.width;
            const h = canvas.height;
            
            // ë°°ê²½ í´ë¦¬ì–´
            ctx.clearRect(0, 0, w, h);

            const energy = calculateEnergy();
            
            // ë ˆì´ì•„ì›ƒ ìœ„ì¹˜ ì •ì˜
            const sunY = 50;
            const atmTop = h * 0.25;
            const atmBottom = h * 0.45;
            const surfaceY = h * 0.6;
            const centerX = w / 2;

            // íƒœì–‘ ê·¸ë¦¬ê¸°
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(centerX, sunY, 25, 0, Math.PI * 2);
            ctx.fill();

            // íƒœì–‘ë¹› ê´‘ì„  íš¨ê³¼
            ctx.strokeStyle = 'rgba(255, 215, 0, 0.3)';
            ctx.lineWidth = 2;
            for (let i = 0; i < 8; i++) {
                const angle = (Math.PI * 2 / 8) * i;
                ctx.beginPath();
                ctx.moveTo(centerX + Math.cos(angle) * 30, sunY + Math.sin(angle) * 30);
                ctx.lineTo(centerX + Math.cos(angle) * 45, sunY + Math.sin(angle) * 45);
                ctx.stroke();
            }

            // ëŒ€ê¸° ê·¸ë¦¬ê¸° (ìˆì„ ê²½ìš°)
            if (energy.atmosphere > 0) {
                const atmHeight = atmBottom - atmTop;
                const atmOpacity = 0.2 + energy.atmosphere * 0.5;
                const gradient = ctx.createLinearGradient(0, atmTop, 0, atmBottom);
                gradient.addColorStop(0, `rgba(135, 206, 250, ${atmOpacity * 0.3})`);
                gradient.addColorStop(1, `rgba(135, 206, 250, ${atmOpacity})`);
                
                ctx.fillStyle = gradient;
                ctx.fillRect(50, atmTop, w - 100, atmHeight);
                
                // ëŒ€ê¸° í…Œë‘ë¦¬
                ctx.strokeStyle = `rgba(135, 206, 250, ${atmOpacity})`;
                ctx.lineWidth = 2;
                ctx.strokeRect(50, atmTop, w - 100, atmHeight);

                // ëŒ€ê¸° ë ˆì´ë¸”
                ctx.fillStyle = 'white';
                ctx.font = 'bold 16px Malgun Gothic';
                ctx.fillText('ëŒ€ê¸°', 70, atmTop + 25);
            }

            // ì§€í‘œë©´ ê·¸ë¦¬ê¸°
            const gradient = ctx.createLinearGradient(0, surfaceY, 0, h - 50);
            gradient.addColorStop(0, '#8B4513');
            gradient.addColorStop(0.5, '#654321');
            gradient.addColorStop(1, '#228B22');
            ctx.fillStyle = gradient;
            ctx.fillRect(50, surfaceY, w - 100, h - surfaceY - 50);

            // ì§€í‘œë©´ ë ˆì´ë¸”
            ctx.fillStyle = 'white';
            ctx.font = 'bold 16px Malgun Gothic';
            ctx.fillText('ì§€í‘œë©´', 70, surfaceY + 25);

            // í™”ì‚´í‘œ ë‘ê»˜ ê³„ì‚° (ì—ë„ˆì§€ì— ë¹„ë¡€)
            const maxWidth = 20;
            const solarWidth = Math.max(2, (energy.solar / 250) * maxWidth);
            const reflectedWidth = Math.max(2, (energy.reflected / 250) * maxWidth);
            const irWidth = Math.max(2, (energy.surfaceAbsorb / 250) * maxWidth);
            const atmWidth = Math.max(2, (energy.atmToSurface / 250) * maxWidth);

            // 1. íƒœì–‘ â†’ ì§€í‘œ/ëŒ€ê¸° (ê°€ì‹œê´‘ì„ )
            const targetY = energy.atmosphere > 0 ? atmTop : surfaceY;
            drawArrow(centerX, sunY + 35, centerX, targetY - 10, solarWidth, '#FFD700', energy.solar.toFixed(0));

            // 2. ë°˜ì‚¬ê´‘ (íƒœì–‘ê´‘ì´ ë‹¿ëŠ” ì§€ì ì—ì„œ ì‹œì‘) - ì›ë˜ëŒ€ë¡œ
            if (energy.reflected > 0.5) {
                const reflectStartY = targetY - 10; // ì…ì‚¬ê´‘ì´ ë‹¿ëŠ” ì§€ì 
                drawArrow(centerX + 20, reflectStartY, centerX + 100, sunY + 60, reflectedWidth, '#FFEB99', energy.reflected.toFixed(0));
            }

            // 3. ëŒ€ê¸°ê°€ ìˆì„ ê²½ìš°
            if (energy.atmosphere > 0) {
                // ëŒ€ê¸°ë¥¼ í†µê³¼í•´ì„œ ì§€í‘œë¡œ
                const absorbedBySurface = energy.surfaceAbsorb;
                drawArrow(centerX, atmBottom + 10, centerX, surfaceY - 10, irWidth, '#FFD700', absorbedBySurface.toFixed(0));

                // ì§€í‘œ â†’ ëŒ€ê¸° (ì ì™¸ì„ ) - ì£¼í™©ë¹› ë¶‰ì€ìƒ‰, ë” ì™¼ìª½ìœ¼ë¡œ
                const surfaceIRWidth = Math.max(2, (energy.surfaceTotal / 250) * maxWidth);
                drawArrow(centerX - 150, surfaceY - 10, centerX - 150, atmBottom + 10, surfaceIRWidth, '#FF6666', energy.surfaceTotal.toFixed(0));

                // ì§€í‘œ â†’ ìš°ì£¼ ì§ì ‘ (ëŒ€ê¸° í†µê³¼, í¡ìˆ˜ ì•ˆë¨) - ê°™ì€ x ìœ„ì¹˜ì—ì„œ ì—°ì¥
                const directWidth = Math.max(2, (energy.surfaceTotal * (1 - energy.atmosphere) / 250) * maxWidth);
                if (energy.surfaceTotal * (1 - energy.atmosphere) > 0.5) {
                    drawArrow(centerX - 150, atmTop - 10, centerX - 150, sunY + 80, directWidth, '#FF6666', (energy.surfaceTotal * (1 - energy.atmosphere)).toFixed(0));
                }

                // ëŒ€ê¸° â†’ ì§€í‘œ (ì¬ë°©ì¶œ) - ë” ì˜¤ë¥¸ìª½ìœ¼ë¡œ
                if (energy.atmToSurface > 0.5) {
                    drawArrow(centerX + 150, atmBottom + 10, centerX + 150, surfaceY - 10, atmWidth, '#FF4444', energy.atmToSurface.toFixed(0));
                }

                // ëŒ€ê¸° â†’ ìš°ì£¼ - ë” ì˜¤ë¥¸ìª½ìœ¼ë¡œ
                const atmSpaceWidth = Math.max(2, (energy.atmToSpace / 250) * maxWidth);
                drawArrow(centerX + 150, atmTop - 10, centerX + 150, sunY + 80, atmSpaceWidth, '#FF4444', energy.atmToSpace.toFixed(0));
            } else {
                // ëŒ€ê¸° ì—†ì„ ë•Œ: ì§€í‘œ â†’ ìš°ì£¼ ì§ì ‘
                drawArrow(centerX - 150, surfaceY - 10, centerX - 150, sunY + 80, irWidth, '#FF6666', energy.toSpace.toFixed(0));
            }

            // ê° ì˜ì—­ ì—ë„ˆì§€ í‘œì‹œ
            ctx.font = 'bold 18px Malgun Gothic';
            ctx.textAlign = 'left';
            
            // ìš°ì£¼ ê³µê°„ (ë‚˜ê°€ëŠ” ì—ë„ˆì§€)
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.fillText(`ìš°ì£¼ë¡œ ë°©ì¶œ: ${energy.toSpace.toFixed(1)}`, w - 200, 30);
            
            // ëŒ€ê¸° ì—ë„ˆì§€
            if (energy.atmosphere > 0) {
                const atmCenterY = (atmTop + atmBottom) / 2;
                ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
                ctx.fillText(`ëŒ€ê¸° í¡ìˆ˜: ${energy.atmAbsorbed.toFixed(1)}`, w - 200, atmCenterY - 20);
                ctx.fillText(`â†‘ ìš°ì£¼: ${energy.atmToSpace.toFixed(1)}`, w - 200, atmCenterY + 5);
                ctx.fillText(`â†“ ì§€í‘œ: ${energy.atmToSurface.toFixed(1)}`, w - 200, atmCenterY + 30);
            }
            
            // ì§€í‘œ ì´ ì—ë„ˆì§€
            ctx.fillStyle = '#FFD700';
            ctx.fillText(`ì§€êµ¬ ë³µì‚¬ ì—ë„ˆì§€: ${energy.surfaceTotal.toFixed(1)}`, w - 230, surfaceY + 50);
            
            // ë²”ë¡€
            ctx.fillStyle = 'white';
            ctx.font = '14px Malgun Gothic';
            ctx.textAlign = 'left';
            ctx.fillText('ë…¸ë€ìƒ‰: ê°€ì‹œê´‘ì„  (íƒœì–‘ë¹›)', 60, h - 25);
            ctx.fillStyle = '#FF6666';
            ctx.fillText('ì£¼í™©ë¹›: ì§€í‘œ ë³µì‚¬', 280, h - 25);
            ctx.fillStyle = '#FF4444';
            ctx.fillText('ë¹¨ê°„ìƒ‰: ëŒ€ê¸° ë°©ì¶œ', 450, h - 25);
        }

        function setPreset(type) {
            switch(type) {
                case 'none':
                    solarInput.value = 100;
                    albedoInput.value = 30;
                    atmosphereInput.value = 0;
                    break;
                case 'earth':
                    solarInput.value = 100;
                    albedoInput.value = 30;
                    atmosphereInput.value = 60;
                    break;
                case 'mars':
                    solarInput.value = 60;
                    albedoInput.value = 25;
                    atmosphereInput.value = 10;
                    break;
                case 'venus':
                    solarInput.value = 200;
                    albedoInput.value = 65;
                    atmosphereInput.value = 98;
                    break;
            }
            updateAndDraw();
        }

        // ëª¨ë‹¬ í•¨ìˆ˜
        function showHelp() {
            document.getElementById('helpModal').style.display = 'block';
        }

        function closeHelp() {
            document.getElementById('helpModal').style.display = 'none';
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const helpModal = document.getElementById('helpModal');
            if (event.target === helpModal) {
                helpModal.style.display = 'none';
            }
        }
    </script>
</body>
</html>
